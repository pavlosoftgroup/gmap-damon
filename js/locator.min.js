window.locator = function () {
  "use strict";
  var t, e, o, n = "20210111001",
    r = ((o = (document.scripts[document.scripts.length - 1].src || "https://locator.damonbraces.com/").split("/")).splice(-2, 2), o.join("/").replace(/\/+$/, "") + "/");

  function a (a) {
    t.removeClass("locator-app-hidden").addClass("locator-app-backdrop").animate({opacity: 1}, 150, function () {
      var o;
      o = a, e = jQuery("<div/>").addClass("locator-app-dialog").appendTo(t), jQuery("<button/>").html("&#10005;").attr("type", "button").addClass("locator-app-dialog-close").prependTo(e), (o = jQuery("<iframe/>").attr({
        src: p("iframe/", {s: o || ""}),
        allow: "geolocation",
        scrolling: "no"
      })).on("load", function () {
      }), e.append(o).animate({top: "0", opacity: 1}, 200)
    }), jQuery("body").addClass("locator-app-locator-open")
  }

  function c () {
    e.animate({top: "-50px", opacity: 0}, 200, function () {
      t.animate({opacity: 0}, 200, function () {
        t.removeClass("locator-app-backdrop").addClass("locator-app-hidden").empty(), jQuery("body").removeClass("locator-app-locator-open")
      }), e = null
    })
  }

  function p (o, a) {
    (a = a || {}).ver = a.ver || n;
    a = new URLSearchParams(a);
    return r + o + "?" + a.toString()
  }

  return new Promise(function (o, a) {
    if (window.jQuery) {
      return o();
    }
    var t = document.createElement("script");
    document.head.appendChild(t), t.type = "text/javascript", t.src = "//ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js", t.onload = o, t.onerror = a
  }).then(function () {
    jQuery(function () {
      (t = jQuery("<div/>").addClass("locator-app-wrapper locator-app-hidden").appendTo("body")).on("click", function () {
        c()
      })
    })
  }).catch(function (o) {
    alert("There was an error loading jQuery"), console.log(o)
  }), {
    open: function (o) {
      a((o = o || {}).search)
    }, close: function () {
      c()
    }
  }
}();
